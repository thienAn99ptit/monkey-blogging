"use strict";(self.webpackChunkreact_monkey_blogging_boilerplate=self.webpackChunkreact_monkey_blogging_boilerplate||[]).push([[274],{8119:function(e,n,r){var a=r(1413),t=r(4925),s=(r(2791),r(1134)),o=r(184),l=["checked","children","control","name"];n.Z=function(e){var n=e.checked,r=e.children,i=e.control,c=e.name,u=(0,t.Z)(e,l),d=(0,s.bc)({control:i,name:c,defaultValue:""}).field;return(0,o.jsxs)("label",{children:[(0,o.jsx)("input",(0,a.Z)((0,a.Z)({checked:n,type:"radio",className:"hidden-input"},d),u)),(0,o.jsxs)("div",{className:"flex items-center gap-x-3 font-medium cursor-pointer",children:[(0,o.jsx)("div",{className:"w-7 h-7 rounded-full ".concat(n?"bg-green-400":"bg-gray-200")}),(0,o.jsx)("span",{children:r})]})]})}},7746:function(e,n,r){r(2791);var a=r(184);n.Z=function(e){var n=e.title,r=void 0===n?"":n,t=e.desc,s=void 0===t?"":t;return(0,a.jsxs)("div",{className:"mb-10",children:[(0,a.jsx)("h1",{className:"dashboard-heading",children:r}),(0,a.jsx)("p",{className:"dashboard-short-desc",children:s})]})}},2582:function(e,n,r){r(2791);var a=r(184);n.Z=function(e){var n=e.children;return(0,a.jsx)("div",{className:"flex flex-wrap gap-5",children:n})}},1573:function(e,n,r){r.d(n,{g:function(){return i}});var a,t=r(168),s=(r(2791),r(6031)),o=r(184),l=s.ZP.div(a||(a=(0,t.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  row-gap: 10px;\n  margin-bottom: 25px;\n"]))),i=function(e){var n=e.children;return(0,o.jsx)(l,{children:n})}},9248:function(e,n,r){var a,t=r(1413),s=r(4925),o=r(168),l=r(1134),i=r(6031),c=(r(6041),r(184)),u=["name","type","children","hasIcon","control"],d=i.ZP.div(a||(a=(0,o.Z)(["\n  position: relative;\n  width: 100%;\n  input {\n    width: 100%;\n    padding: ",";\n    background-color: transparent;\n    border: 1px solid ",";\n    border-radius: 8px;\n    transition: all 0.2s linear;\n    color: ",";\n    font-size: 14px;\n  }\n\n  input::-webkit-input-placeholder {\n    color: #b2b3bd;\n  }\n  input::-moz-input-placeholder {\n    color: #b2b3bd;\n  }\n  .input-icon {\n    position: absolute;\n    right: 20px;\n    top: 50%;\n    transform: translateY(-50%);\n    cursor: pointer;\n  }\n"])),(function(e){return e.hasIcon?"16px 60px 16px 20px":"16px 20px"}),(function(e){return e.theme.grayf1}),(function(e){return e.theme.black}));n.Z=function(e){var n=e.name,r=void 0===n?"":n,a=e.type,o=void 0===a?"text":a,i=e.children,m=e.hasIcon,h=void 0!==m&&m,p=e.control,x=(0,s.Z)(e,u),f=(0,l.bc)({control:p,name:r,defaultValue:""}).field;return(0,c.jsxs)(d,{hasIcon:h,children:[(0,c.jsx)("input",(0,t.Z)((0,t.Z)({type:o,id:r},f),x)),h&&i]})}},4641:function(e,n,r){var a=r(9439),t=r(2791),s=r(6041),o=r(9248),l=r(184);n.Z=function(e){var n=e.control,r=(0,t.useState)(!1),i=(0,a.Z)(r,2),c=i[0],u=i[1];return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(o.Z,{control:n,name:"password",type:c?"text":"password",className:"input",placeholder:"Please enter your Password",hasIcon:!0,children:c?(0,l.jsx)(s.tE,{onClick:function(){return u((function(e){return!e}))},className:"input-icon w-4 h-4"}):(0,l.jsx)(s.JP,{onClick:function(){return u((function(e){return!e}))},className:"input-icon"})})})}},3117:function(e,n,r){r.d(n,{I:function(){return a.Z}});var a=r(9248)},4566:function(e,n,r){r.d(n,{_:function(){return d}});var a,t=r(1413),s=r(4925),o=r(168),l=r(6031),i=r(184),c=["className","htmlFor","children"],u=l.ZP.label(a||(a=(0,o.Z)(["\n  color: ",";\n  font-weight: 600;\n  cursor: pointer;\n"])),(function(e){return e.theme.grayDark}));var d=function(e){var n=e.className,r=e.htmlFor,a=e.children,o=(0,s.Z)(e,c);return(0,i.jsx)(u,(0,t.Z)((0,t.Z)({htmlFor:r,className:n},o),{},{children:a}))}},7531:function(e,n,r){var a,t=r(1413),s=r(4925),o=r(168),l=r(1134),i=r(6031),c=r(184),u=["name","control"],d=i.ZP.div(a||(a=(0,o.Z)(["\n  position: relative;\n  width: 100%;\n  textarea {\n    width: 100%;\n    padding: ",";\n    background-color: transparent;\n    border: 1px solid ",";\n    border-radius: 8px;\n    transition: all 0.2s linear;\n    color: ",";\n    font-size: 14px;\n    resize: none;\n  }\n\n  textarea::-webkit-textarea-placeholder {\n    color: #b2b3bd;\n  }\n  textarea::-moz-textarea-placeholder {\n    color: #b2b3bd;\n  }\n"])),(function(e){return e.hasIcon?"16px 60px 16px 20px":"16px 20px"}),(function(e){return e.theme.grayf1}),(function(e){return e.theme.black}));n.Z=function(e){var n=e.name,r=void 0===n?"":n,a=e.control,o=(0,s.Z)(e,u),i=(0,l.bc)({control:a,name:r,defaultValue:""}).field;return(0,c.jsx)(d,{children:(0,c.jsx)("textarea",(0,t.Z)((0,t.Z)({id:r},i),o))})}},6843:function(e,n,r){var a=r(1413),t=r(4925),s=(r(2791),r(184)),o=["name","className","progress","handleDeteleImage","image"];n.Z=function(e){var n=e.name,r=(e.className,e.progress),l=e.handleDeteleImage,i=void 0===l?function(){}:l,c=e.image,u=(0,t.Z)(e,o);return(0,s.jsxs)("label",{className:"w-full relative cursor-pointer group",children:[(0,s.jsx)("input",(0,a.Z)({type:"file",className:"hidden-input",name:n},u)),(0,s.jsxs)("div",{className:"h-[250px] flex items-center justify-center w-full bg-slate-200 rounded-lg ",children:[!c&&0!==r&&(0,s.jsx)("div",{className:"h-14 w-14 border-green-500 border-4 border-t-transparent z-10 absolute  rounded-full animate-spin"}),!c&&0===r&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("img",{src:"/upload-image.png",alt:"",className:"h-[100px]"})," ",(0,s.jsx)("p",{className:"text-gray-500 ",children:"Chosse file"})]}),c&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("img",{src:c,alt:"",className:"w-full h-full object-cover"}),(0,s.jsx)("button",{onClick:i,type:"button",className:"absolute z-10 w-16 h-16 bg-white rounded-full text-red-500 flex justify-center items-center hover:bg-red-500 hover:text-white transition-all shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-6 h-6",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})})})]})]}),!c&&(0,s.jsx)("div",{className:"h-1 bg-[#1DC071] absolute bottom-0 left-0 rounded-lg transition-all",style:{width:"".concat(Math.ceil(r),"%")}})]})}},1776:function(e,n,r){r.d(n,{Z:function(){return o}});var a=r(9439),t=r(4453),s=r(2791);function o(e,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,l=(0,s.useState)(0),i=(0,a.Z)(l,2),c=i[0],u=i[1],d=(0,s.useState)(""),m=(0,a.Z)(d,2),h=m[0],p=m[1];if(e&&n){var x=function(n){var r=(0,t.cF)(),a=(0,t.iH)(r,"images/"+n.name),s=(0,t.B0)(a,n);s.on("state_changed",(function(e){var n=e.bytesTransferred/e.totalBytes*100;switch(u(n),e.state){case"paused":console.log("Upload is paused");break;case"running":console.log("Upload is running");break;default:console.log("Nothing at all")}}),(function(e){console.log("Error")}),(function(){(0,t.Jt)(s.snapshot.ref).then((function(n){console.log("File available at",n),p(n),e("image_url",n)}))}))},f=function(n){var a=n.target.files[0];a&&(e(r||"image_name",a.name),x(a))},g=function(){var e=(0,t.cF)(),a=(0,t.iH)(e,"images/"+n(r||"image_name"));(0,t.oq)(a).then((function(){console.log("Remove image successfully"),p(""),u(0),o&&o()})).catch((function(e){console.log("handleDeleteImage ~ error",e),console.log("Can not delete image")}))};return{image:h,progress:c,handleSelectImage:f,handleDeleteImage:g,setImage:p,setProgress:u}}}},9274:function(e,n,r){r.r(n);var a=r(1413),t=r(5861),s=r(9439),o=r(7757),l=r.n(o),i=r(289),c=r(9062),u=r(2791),d=r(1134),m=r(3504),h=r(6871),p=r(577),x=r(333),f=r.n(x),g=r(385),v=r(8119),b=r(7746),j=r(1573),Z=r(2582),N=r(3117),w=r(4641),k=r(4566),y=r(7531),I=r(6843),E=r(9808),C=r(1453),D=r(1776),_=r(3585),A=r(184);n.default=function(){var e=(0,E.a)().userInfor,n=(0,u.useState)(""),r=(0,s.Z)(n,2),o=r[0],x=r[1],U=(0,m.lr)(),S=((0,s.Z)(U,1)[0],(0,u.useState)(!1)),P=(0,s.Z)(S,2),R=P[0],V=P[1],F=(0,h.s0)(),M=(0,d.cI)({mode:"onChange",defaultValues:{fullname:"",username:"",email:"",password:"",avatar:"",description:"",status:1,role:3}}),Q=M.control,z=M.setValue,T=M.getValues,B=M.handleSubmit,L=M.watch,O=M.reset,J=M.formState.isValid,G=function(){var n=(0,t.Z)(l().mark((function n(){return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,c.pl)((0,c.JU)(C.db,"users",null===e||void 0===e?void 0:e.uid),{avatar:"",image_url:""});case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),H=(0,D.Z)(z,T,"avatar",G),q=H.image,W=H.progress,Y=H.handleSelectImage,K=H.handleDeleteImage,X=H.setImage,$=function(){var n=(0,t.Z)(l().mark((function n(r){var t;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(J){n.next=2;break}return n.abrupt("return");case 2:return t=(0,a.Z)({},r),console.log({cloneValues:t}),V(!0),n.prev=5,n.next=8,(0,i.ck)(C.I.currentUser,{displayName:t.fullname,email:t.email});case 8:return n.next=10,(0,c.pl)((0,c.JU)(C.db,"users",null===e||void 0===e?void 0:e.uid),(0,a.Z)((0,a.Z)({},t),{},{username:f()(r.username||r.fullname,{lower:!0})}));case 10:p.Am.success("Create new user success !!!"),F("/dashboard"),n.next=18;break;case 14:n.prev=14,n.t0=n.catch(5),V(!1),p.Am.error(n.t0.message);case 18:return n.prev=18,V(!1),n.finish(18);case 21:case"end":return n.stop()}}),n,null,[[5,14,18,21]])})));return function(e){return n.apply(this,arguments)}}(),ee=L("status"),ne=L("role");return(0,u.useEffect)((function(){X(o)}),[o,X]),(0,u.useEffect)((function(){function n(){return(n=(0,t.Z)(l().mark((function n(){var r,t,s;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=(0,c.JU)(C.db,"users",null===e||void 0===e?void 0:e.uid),n.next=3,(0,c.QT)(t);case 3:s=n.sent,O((0,a.Z)({status:1,role:3},s.data())),x((null===(r=s.data())||void 0===r?void 0:r.image_url)||"");case 6:case"end":return n.stop()}}),n)})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()}),[e]),T("fullname","username")?(0,A.jsxs)("div",{children:[(0,A.jsx)(b.Z,{title:"Update User",desc:"Manage your user"}),(0,A.jsxs)("form",{autoComplete:"off",onSubmit:B($),children:[(0,A.jsx)("div",{className:"grid grid-cols-2 gap-x-10 mb-10",children:(0,A.jsx)(I.Z,{onChange:Y,handleDeteleImage:K,name:"avatar",progress:W,image:q})}),(0,A.jsxs)("div",{className:"form-layout grid grid-cols-2 gap-x-10 mb-10",children:[(0,A.jsxs)(j.g,{children:[(0,A.jsx)(k._,{children:"Fullname"}),(0,A.jsx)(N.I,{control:Q,name:"fullname",placeholder:"Enter your full name"})]}),(0,A.jsxs)(j.g,{children:[(0,A.jsx)(k._,{children:"Username"}),(0,A.jsx)(N.I,{control:Q,name:"username",placeholder:"Enter your user name"})]})]}),(0,A.jsxs)("div",{className:"form-layout grid grid-cols-2 gap-x-10 mb-10",children:[(0,A.jsxs)(j.g,{children:[(0,A.jsx)(k._,{children:"Email"}),(0,A.jsx)(N.I,{control:Q,name:"email",placeholder:"Enter your email"})]}),(0,A.jsxs)(j.g,{children:[(0,A.jsx)(k._,{children:"Password"}),(0,A.jsx)(w.Z,{control:Q,name:"password",placeholder:"Enter your password"})]})]}),(0,A.jsxs)("div",{className:"form-layout grid grid-cols-2 gap-x-4 mb-10",children:[(0,A.jsxs)(j.g,{children:[(0,A.jsx)(k._,{children:"Status"}),(0,A.jsxs)(Z.Z,{children:[(0,A.jsx)(v.Z,{name:"status",control:Q,checked:Number(ee)===_.iQ.ACTIVE,onClick:function(){return z("status",_.iQ.ACTIVE)},value:_.iQ.ACTIVE,children:"Approved"}),(0,A.jsx)(v.Z,{name:"status",control:Q,checked:Number(ee)===_.iQ.PENDING,onClick:function(){return z("status",_.iQ.PENDING)},value:_.iQ.PENDING,children:"Pending"}),(0,A.jsx)(v.Z,{name:"status",control:Q,checked:Number(ee)===_.iQ.BANNED,onClick:function(){return z("status",_.iQ.BANNED)},value:_.iQ.BANNED,children:"Banned"})]})]}),(0,A.jsxs)(j.g,{children:[(0,A.jsx)(k._,{children:"Role"}),(0,A.jsxs)(Z.Z,{children:[(0,A.jsx)(v.Z,{name:"role",control:Q,checked:Number(ne)===_.xZ.ADMIN,onClick:function(){return z("role",_.xZ.ADMIN)},value:_.xZ.ADMIN,children:"Admin"}),(0,A.jsx)(v.Z,{name:"role",control:Q,checked:Number(ne)===_.xZ.MODERATOR,onClick:function(){return z("role",_.xZ.MODERATOR)},value:_.xZ.MODERATOR,children:"Moderator"}),(0,A.jsx)(v.Z,{name:"role",control:Q,checked:Number(ne)===_.xZ.USER,onClick:function(){return z("role",_.xZ.USER)},value:_.xZ.USER,children:"User"})]})]})]}),(0,A.jsx)("div",{className:"form-layout grid  gap-x-4 mb-10",children:(0,A.jsxs)(j.g,{children:[(0,A.jsx)(k._,{children:"Description"}),(0,A.jsx)(y.Z,{control:Q,name:"description",placeholder:"Enter your description"})]})}),(0,A.jsx)(g.z,{type:"submit",isLoading:R,children:"Update User"})]})]}):null}}}]);
//# sourceMappingURL=274.64a334c3.chunk.js.map