"use strict";(self.webpackChunkreact_monkey_blogging_boilerplate=self.webpackChunkreact_monkey_blogging_boilerplate||[]).push([[992],{8119:function(e,n,t){var r=t(1413),a=t(4925),s=(t(2791),t(1134)),o=t(184),i=["checked","children","control","name"];n.Z=function(e){var n=e.checked,t=e.children,l=e.control,c=e.name,u=(0,a.Z)(e,i),d=(0,s.bc)({control:l,name:c,defaultValue:""}).field;return(0,o.jsxs)("label",{children:[(0,o.jsx)("input",(0,r.Z)((0,r.Z)({checked:n,type:"radio",className:"hidden-input"},d),u)),(0,o.jsxs)("div",{className:"flex items-center gap-x-3 font-medium cursor-pointer",children:[(0,o.jsx)("div",{className:"w-7 h-7 rounded-full ".concat(n?"bg-green-400":"bg-gray-200")}),(0,o.jsx)("span",{children:t})]})]})}},6024:function(e,n,t){var r=t(1413),a=t(4925),s=(t(2791),t(4897)),o=t(184),i=["children"];n.Z=function(e){var n=e.children,t=(0,a.Z)(e,i);return(0,o.jsx)(s.K,(0,r.Z)((0,r.Z)({},t),{},{children:(0,o.jsx)("div",{className:"relative inline-block w-full",children:n})}))}},5990:function(e,n,t){var r=t(1413),a=t(4925),s=(t(2791),t(4897)),o=t(184),i=["onClick"];n.Z=function(e){var n=e.onClick,t=(0,a.Z)(e,i),l=(0,s.x)().setShow;return(0,o.jsx)("div",(0,r.Z)((0,r.Z)({className:"px-5 py-4 cursor-pointer flex items-center justify-between hover:bg-gray-100",onClick:function(){n&&n(),l((function(e){return!e}))}},t),{},{children:t.children}))}},5727:function(e,n,t){var r=t(4897),a=t(184);n.Z=function(e){var n=e.placeholder,t=(0,r.x)(),s=t.show,o=t.toggle;return(0,a.jsxs)("div",{className:"flex items-center justify-between p-5 bg-[#E7ECF3] rounded cursor-pointer font-medium",onClick:o,children:[(0,a.jsx)("span",{children:n}),(0,a.jsx)("span",{children:s?(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 15l7-7 7 7"})}):(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})})]})}},9946:function(e,n,t){var r=t(4897),a=t(184);n.Z=function(e){var n=e.children,t=(0,r.x)().show;return(0,a.jsx)(a.Fragment,{children:t&&(0,a.jsx)("div",{className:"absolute top-full left-0 w-full bg-white shadow-sm",children:n})})}},1573:function(e,n,t){t.d(n,{g:function(){return l}});var r,a=t(168),s=(t(2791),t(6031)),o=t(184),i=s.ZP.div(r||(r=(0,a.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  row-gap: 10px;\n  margin-bottom: 25px;\n"]))),l=function(e){var n=e.children;return(0,o.jsx)(i,{children:n})}},9248:function(e,n,t){var r,a=t(1413),s=t(4925),o=t(168),i=t(1134),l=t(6031),c=(t(6041),t(184)),u=["name","type","children","hasIcon","control"],d=l.ZP.div(r||(r=(0,o.Z)(["\n  position: relative;\n  width: 100%;\n  input {\n    width: 100%;\n    padding: ",";\n    background-color: transparent;\n    border: 1px solid ",";\n    border-radius: 8px;\n    transition: all 0.2s linear;\n    color: ",";\n    font-size: 14px;\n  }\n\n  input::-webkit-input-placeholder {\n    color: #b2b3bd;\n  }\n  input::-moz-input-placeholder {\n    color: #b2b3bd;\n  }\n  .input-icon {\n    position: absolute;\n    right: 20px;\n    top: 50%;\n    transform: translateY(-50%);\n    cursor: pointer;\n  }\n"])),(function(e){return e.hasIcon?"16px 60px 16px 20px":"16px 20px"}),(function(e){return e.theme.grayf1}),(function(e){return e.theme.black}));n.Z=function(e){var n=e.name,t=void 0===n?"":n,r=e.type,o=void 0===r?"text":r,l=e.children,h=e.hasIcon,m=void 0!==h&&h,f=e.control,g=(0,s.Z)(e,u),p=(0,i.bc)({control:f,name:t,defaultValue:""}).field;return(0,c.jsxs)(d,{hasIcon:m,children:[(0,c.jsx)("input",(0,a.Z)((0,a.Z)({type:o,id:t},p),g)),m&&l]})}},3117:function(e,n,t){t.d(n,{I:function(){return r.Z}});var r=t(9248)},4566:function(e,n,t){t.d(n,{_:function(){return d}});var r,a=t(1413),s=t(4925),o=t(168),i=t(6031),l=t(184),c=["className","htmlFor","children"],u=i.ZP.label(r||(r=(0,o.Z)(["\n  color: ",";\n  font-weight: 600;\n  cursor: pointer;\n"])),(function(e){return e.theme.grayDark}));var d=function(e){var n=e.className,t=e.htmlFor,r=e.children,o=(0,s.Z)(e,c);return(0,l.jsx)(u,(0,a.Z)((0,a.Z)({htmlFor:t,className:n},o),{},{children:r}))}},815:function(e,n,t){var r=t(1413),a=t(4925),s=(t(2791),t(184)),o=["on","onClick"];n.Z=function(e){var n=e.on,t=e.onClick,i=(0,a.Z)(e,o);return(0,s.jsxs)("label",{children:[(0,s.jsx)("input",{type:"checkbox",checked:n,onClick:t,className:"hidden-input",onChange:function(){}}),(0,s.jsx)("div",(0,r.Z)((0,r.Z)({className:"inline-block w-[80px] h-[42px] relative cursor-pointer rounded-full p-1 transition-all ".concat(n?"bg-purple-500":"bg-gray-300")},i),{},{children:(0,s.jsx)("span",{className:"transition-all w-8 h-[34px] bg-white rounded-full inline-block ".concat(n?"translate-x-[40px]":"")})}))]})}},6843:function(e,n,t){var r=t(1413),a=t(4925),s=(t(2791),t(184)),o=["name","className","progress","handleDeteleImage","image"];n.Z=function(e){var n=e.name,t=(e.className,e.progress),i=e.handleDeteleImage,l=void 0===i?function(){}:i,c=e.image,u=(0,a.Z)(e,o);return(0,s.jsxs)("label",{className:"w-full relative cursor-pointer group",children:[(0,s.jsx)("input",(0,r.Z)({type:"file",className:"hidden-input",name:n},u)),(0,s.jsxs)("div",{className:"h-[250px] flex items-center justify-center w-full bg-slate-200 rounded-lg ",children:[!c&&0!==t&&(0,s.jsx)("div",{className:"h-14 w-14 border-green-500 border-4 border-t-transparent z-10 absolute  rounded-full animate-spin"}),!c&&0===t&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("img",{src:"/upload-image.png",alt:"",className:"h-[100px]"})," ",(0,s.jsx)("p",{className:"text-gray-500 ",children:"Chosse file"})]}),c&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("img",{src:c,alt:"",className:"w-full h-full object-cover"}),(0,s.jsx)("button",{onClick:l,type:"button",className:"absolute z-10 w-16 h-16 bg-white rounded-full text-red-500 flex justify-center items-center hover:bg-red-500 hover:text-white transition-all shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-6 h-6",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})})})]})]}),!c&&(0,s.jsx)("div",{className:"h-1 bg-[#1DC071] absolute bottom-0 left-0 rounded-lg transition-all",style:{width:"".concat(Math.ceil(t),"%")}})]})}},4897:function(e,n,t){t.d(n,{K:function(){return l},x:function(){return c}});var r=t(1413),a=t(9439),s=t(2791),o=t(184),i=(0,s.createContext)();function l(e){var n=(0,s.useState)(!1),t=(0,a.Z)(n,2),l=t[0],c=t[1],u={show:l,setShow:c,toggle:function(){c(!l)}};return(0,o.jsx)(i.Provider,(0,r.Z)((0,r.Z)({value:u},e),{},{children:e.children}))}function c(){var e=(0,s.useContext)(i);if("undefined"===typeof e)throw new Error("useDropdown must be used within DropdownProvider");return e}},1776:function(e,n,t){t.d(n,{Z:function(){return o}});var r=t(9439),a=t(4453),s=t(2791);function o(e,n,t){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=(0,s.useState)(0),l=(0,r.Z)(i,2),c=l[0],u=l[1],d=(0,s.useState)(""),h=(0,r.Z)(d,2),m=h[0],f=h[1];if(e&&n){var g=function(n){var t=(0,a.cF)(),r=(0,a.iH)(t,"images/"+n.name),s=(0,a.B0)(r,n);s.on("state_changed",(function(e){var n=e.bytesTransferred/e.totalBytes*100;switch(u(n),e.state){case"paused":console.log("Upload is paused");break;case"running":console.log("Upload is running");break;default:console.log("Nothing at all")}}),(function(e){console.log("Error")}),(function(){(0,a.Jt)(s.snapshot.ref).then((function(n){console.log("File available at",n),f(n),e("image_url",n)}))}))},p=function(n){var r=n.target.files[0];r&&(e(t||"image_name",r.name),g(r))},x=function(){var e=(0,a.cF)(),r=(0,a.iH)(e,"images/"+n(t||"image_name"));(0,a.oq)(r).then((function(){console.log("Remove image successfully"),f(""),u(0),o&&o()})).catch((function(e){console.log("handleDeleteImage ~ error",e),console.log("Can not delete image")}))};return{image:m,progress:c,handleSelectImage:p,handleDeleteImage:x,setImage:f,setProgress:u}}}},7992:function(e,n,t){t.r(n);var r=t(1413),a=t(5861),s=t(9439),o=t(7757),i=t.n(o),l=t(2791),c=t(6770),u=t.n(c),d=t(1134),h=t(333),m=t.n(h),f=t(9062),g=t(8113),p=(t(6009),t(385)),x=t(8119),v=t(6024),j=t(5990),b=t(1573),Z=t(3117),w=t(4566),k=t(3585),N=t(6843),y=t(1776),C=t(815),I=t(1453),_=t(5727),E=t(9946),P=t(577),S=t(6871),D=t(3504),R=t(184);c.Quill.register("modules/imageUploader",g.Z);n.default=function(){var e=(0,S.s0)(),n=(0,D.lr)(),t=(0,s.Z)(n,1)[0].get("id"),o=(0,l.useState)(""),c=(0,s.Z)(o,2),h=c[0],g=c[1],F=(0,l.useState)([]),L=(0,s.Z)(F,2),U=L[0],J=L[1],V=(0,l.useState)(""),A=(0,s.Z)(V,2),B=A[0],T=A[1],z=(0,l.useState)(""),M=(0,s.Z)(z,2),H=M[0],O=M[1],G=(0,l.useState)({}),W=(0,s.Z)(G,2),q=W[0],K=W[1],Q=(0,l.useState)(""),Y=(0,s.Z)(Q,2),X=Y[0],$=Y[1],ee=(0,d.cI)({mode:"onChange",defaultValues:{title:"",slug:"",status:2,categoryId:"",hot:!1,image_url:"",image_name:"",userId:""}}),ne=ee.control,te=ee.watch,re=ee.setValue,ae=ee.handleSubmit,se=ee.getValues,oe=ee.reset,ie=function(){var e=(0,a.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,f.pl)((0,f.JU)(I.db,"posts",t),(0,r.Z)((0,r.Z)({},q),{},{image_name:"",image_url:""}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),le=function(){var n=(0,a.Z)(i().mark((function n(a){var s;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(s=(0,r.Z)({},a)).content=h,s.slug=m()(a.slug||a.slug,{lower:!0}),s.status=Number(a.status),n.next=6,(0,f.pl)((0,f.JU)(I.db,"posts",t),(0,r.Z)({},s));case 6:P.Am.success("Update post success !!!"),e("/manage/post");case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),ce=te("status"),ue=te("hot"),de=(0,y.Z)(re,se,"image_name",ie),he=de.image,me=de.progress,fe=de.handleSelectImage,ge=de.handleDeleteImage,pe=de.setImage;return(0,l.useEffect)((function(){pe(B)}),[B,pe]),(0,l.useEffect)((function(){function e(){return(e=(0,a.Z)(i().mark((function e(){var n,a,s,o,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,f.JU)(I.db,"posts",t),e.next=3,(0,f.QT)(n);case 3:(a=e.sent).data()&&(oe((0,r.Z)({},a.data())),g((null===(s=a.data())||void 0===s?void 0:s.content)||""),K((0,r.Z)({},a.data())),O((null===(o=a.data())||void 0===o?void 0:o.categoryId)||""),T((null===(l=a.data())||void 0===l?void 0:l.image_url)||""));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),(0,l.useEffect)((function(){document.title="Monkey Blogging ~ Add new post";var e=function(){var e=(0,a.Z)(i().mark((function e(){var n,t,a,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,f.hJ)(I.db,"categories"),t=(0,f.IO)(n,(0,f.ar)("status","==",1)),e.next=4,(0,f.PL)(t);case 4:a=e.sent,s=[],a.forEach((function(e){e.id==H&&$(e.data().name),s.push((0,r.Z)({id:e.id},e.data()))})),J([].concat(s));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[H]),(0,R.jsxs)("div",{children:[(0,R.jsx)("h1",{className:"dashboard-heading ",children:"Update post"}),(0,R.jsxs)("form",{onSubmit:ae(le),children:[(0,R.jsxs)("div",{className:"grid grid-cols-2 gap-x-10 mb-10",children:[(0,R.jsxs)(b.g,{children:[(0,R.jsx)(w._,{children:"Title"}),(0,R.jsx)(Z.I,{control:ne,placeholder:"Enter your title",name:"title"})]}),(0,R.jsxs)(b.g,{children:[(0,R.jsx)(w._,{children:"Slug"}),(0,R.jsx)(Z.I,{control:ne,placeholder:"Enter your slug",name:"slug"})]})]}),(0,R.jsxs)("div",{className:"grid grid-cols-2 gap-x-10 mb-10",children:[(0,R.jsxs)(b.g,{children:[(0,R.jsx)(w._,{children:"Image"}),(0,R.jsx)(N.Z,{type:"file",name:"image",image:he,progress:me,id:"",onChange:fe,handleDeteleImage:ge})]}),(0,R.jsxs)(b.g,{children:[(0,R.jsx)(w._,{children:"Category"}),(0,R.jsxs)(v.Z,{children:[(0,R.jsx)(_.Z,{placeholder:X||"Please select an option"}),(0,R.jsx)(E.Z,{children:U.length>0&&U.map((function(e){return(0,R.jsx)(j.Z,{onClick:function(){re("categoryId",e.id),$(e.name)},children:e.name},e.id)}))})]})]})]}),(0,R.jsx)("div",{children:(0,R.jsxs)(b.g,{children:[(0,R.jsx)(w._,{children:"Content"}),(0,R.jsx)(u(),{modules:{toolbar:[["bold","italic","underline","strike"],["blockquote"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{header:[1,2,3,4,5,6,!1]}],["link","image"]]},name:"content",className:"w-full",theme:"snow",value:h,onChange:g,placeholder:"Add a description of your event"})]})}),(0,R.jsxs)("div",{className:"grid grid-cols-2 gap-x-10 mb-10",children:[(0,R.jsxs)(b.g,{children:[(0,R.jsx)(w._,{children:"Status"}),(0,R.jsxs)("div",{className:"flex items-center gap-x-5",children:[(0,R.jsx)(x.Z,{name:"status",control:ne,checked:Number(ce)===k.cf.APPRROVED,onClick:function(){return re("status",k.cf.APPRROVED)},value:k.cf.APPRROVED,children:"Approved"}),(0,R.jsx)(x.Z,{name:"status",control:ne,checked:Number(ce)===k.cf.PENDING,onClick:function(){return re("status",k.cf.PENDING)},value:k.cf.PENDING,children:"Pending"}),(0,R.jsx)(x.Z,{name:"status",control:ne,checked:Number(ce)===k.cf.REJECT,onClick:function(){return re("status",k.cf.REJECT)},value:k.cf.REJECT,children:"Reject"})]})]}),(0,R.jsxs)(b.g,{children:[(0,R.jsx)(w._,{children:"Hot"}),(0,R.jsx)(C.Z,{on:!0===ue,onClick:function(){return re("hot",!ue)}})]})]}),(0,R.jsx)(p.z,{type:"submit",className:"mx-auto",children:"Update post"})]})]})}}}]);
//# sourceMappingURL=992.d30aee50.chunk.js.map